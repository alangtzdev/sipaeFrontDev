<div class="page-header">
  <div class="row">
    <div class="col-xs-12 col-sm-4 text-center text-left-sm">
      <h1> Evaluaci&oacute;n de Aspirantes</h1>
      <p>
        <small>Gesti&oacute;n de aspirantes a evaluar.</small>
      </p>
    </div>
  </div>
</div>

<div class="panel">
  <div class="panel-body">
    <alert
      *ngFor="let alerta of alertas;let i = index"
      [type]="alerta.type"
      dismissible="true"
      (close)="cerrarAlerta(i)"
      dismissOnTimeout="4000">
      {{ alerta?.msg }}
    </alert>
    <form [formGroup]="formulario">
      <div class="row">
        <div class="col-md-8">
          <div class="row">

            <div class="col-md-4 col-sm-6 padding-sm-vr no-padding-b">
              <label> Programa Docente: </label>
              <select #programaDocenteSelection class="form-control" ngControl="idProgramaDocente" formControlName="idProgramaDocente"
                      (change)="activarBotonBusqueda(2)"
                      (change)="cambioProgramaDocenteFiltro(programaDocenteSelection.value)"
              >
                <option value="" disabled selected> Selecciona...</option>
                <option *ngFor="let programaDocenteItem of opcionesSelectProgramaDocente"
                        [value]="programaDocenteItem.id">
                  {{programaDocenteItem.text}}
                </option>
              </select>
            </div>

            <div class="col-md-4 col-sm-6 padding-sm-vr no-padding-b">
              <label>Promoción:</label>
              <select class="form-control" #idPromocion (change)="activarBotonBusqueda(1)">
                <option value="" selected>Selecciona...</option>
                <option
                  *ngFor="let catalogoPromocion of opcionesSelectPromocion"
                  value="{{catalogoPromocion.id}}"
                >
                  {{catalogoPromocion.text}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-sm-12 text-right padding-sm-vr no-padding-b">
          <button
            class="btn" (click)="buscarCriteriosCabezera(
                programaDocenteSelection.value,
                idPromocion.value
              )" [disabled]="!botonBuscar"
          >
            Buscar <span class="fa fa-search"></span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
<div class="panel">
  <div class="panel-body">

    <div class="row">
      <div class="col-md-12">
        <div class="col-md-10">
          <div class="text-right">
            <button *ngIf="estadoBotonEvaluacionCurricular && !hasRol('DOCENCIA')" class="btn btn-labeled btn-warning"
                    (click)="constructorEvalCurricular()"><span
              class="btn-label icon fa fa-file"></span>{{usuarioLicenciatura ? 'Ensayo' :
              'Curricular'}}
            </button>
            <button *ngIf="!usuarioLicenciatura && estadoBotonEvaluacionAspirante && !hasRol('DOCENCIA')" class="btn btn-labeled btn-success"
                    (click)="constructorEvaluacion()"><span class="btn-label icon fa fa-file-text"></span>Evaluación
            </button>

            <button *ngIf="usuarioLicenciatura && estadoBotonEvaluacionAspirante && !hasRol('DOCENCIA')" class="btn btn-labeled btn-success"
                    (click)="modalEntrevista()"><span class="btn-label icon fa fa-file-text"></span>Entrevista/CENEVAL
            </button>

            <button *ngIf="registroSeleccionado" class="btn btn-labeled btn-info"
                    (click)="goExpediente()"><span
              class="btn-label icon fa fa-folder-open"></span>Expediente
            </button>

            <button *ngIf="registroSeleccionado" class="btn btn-labeled btn-default"
                    (click)="abrirModalDetalleEvaluacion()"><span
              class="btn-label icon fa fa-eye"></span>Detalle
            </button>
          </div>
        </div>
        <div class="col-md-2 form-group-margin"> <!-- cont-buscar-->
          <div class="row">
            <div class="col-md-12 pull-right text-right">
              <div class="row">
                <input
                  #filtro
                  type="text"
                  class="form-control"
                  id="buscar"
                  placeholder="Buscar..."
                  (keyup.enter)="filtroChanged(filtro.value)"
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <div class="row">
        <!--=================================
              =            DATA-TABLES            =
              ==================================-->
        <div role="grid" id="jq-datatables-example_wrapper"
             class="dataTables_wrapper form-inline no-footer table-responsive">
          <div class="table-header clearfix">
            <div class="table-caption">Lista de Aspirantes</div>
            <div class="DT-lf-right">
              <div class="DT-per-page">
                <div class="dataTables_length" id="jq-datatables-example_length">
                  <label>Registros por página:
                    <select
                      #limiteControl
                      name="jq-datatables-example_length"
                      aria-controls="jq-datatables-example"
                      class="form-control input-sm"
                      (change)="setLimite(limiteControl.value)"
                    >
                      <option value="10">10</option>
                      <option value="25">25</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="table-responsive">
            <table cellpadding="0" cellspacing="0" border="0"
                   class="table table-striped table-bordered dataTable no-footer" id="jq-datatables-example"
                   aria-describedby="jq-datatables-example_info">
              <thead>
              <tr role="row">
                <th
                  *ngFor="let columna of columnas"
                  [ngClass]="{
							        		'sorting_desc': columna.sort === 'desc',
							        		'sorting_asc': columna.sort === 'asc',
							        		'sorting': columna.sort !== false
							        	}"
                  (click)="sortChanged(columna)"
                >
                  {{columna.titulo}}
                </th>
                <th *ngIf="profesorLogueado">Evaluación</th>
              </tr>
              </thead>
              <tbody *ngIf="registros.length === 0">
              <tr class="gradeA odd">
                <th class="text-center" colspan="4">
                  Cambie sus criterios de búsqueda
                </th>
              </tr>
              </tbody>
              <tbody *ngIf="registros.length !== 0">
              <tr
                *ngFor="let registro of registros"
                class="gradeA odd"
                [ngClass]="{
							        		'seleccionado': rowSeleccionado(registro)
							        }"
                (click)="rowSeleccion(registro)"
              >
                <td class="center">{{registro?.foliosSolicitud?.folioCompleto}}</td>
                <td class="center">{{registro?.getNombreCompleto()}}</td>
                <!--<td class="center">{{agregarEstatusProfesor(registro?.id, registro?.estatus?.id)}}</td>-->
                <td class="center">{{usuarioLicenciatura ? (registro?.estatus?.valor === 'Aspiranteaceptado primera fase' ? 'Validada' : registro?.estatus?.valor) :
                  registro?.estatus?.valor}}
                </td>
                <td class="center" style="text-align:center;" *ngIf="profesorLogueado">{{ getEstado(registro) }}</td>
              </tr>
              </tbody>
            </table>
          </div>
          <div class="table-footer clearfix">
            <div class="DT-pagination" *ngIf="isSetPaginacion()">
              <div class="dataTables_paginate paging_simple_numbers">
                <pagination
                  class="pagination"
                  [totalItems]="paginacion.registrosTotales"
                  [itemsPerPage]="limite"
                  [maxSize]="maxSizePags"
                  [rotate]="false"
                  [(ngModel)]="paginaActual"
                  (pageChanged)="cambiarPagina($event)"
                  previousText="Anterior"
                  nextText="Siguiente"
                >
                </pagination>
              </div>
            </div>
          </div>
        </div>
        <!--====  End of DATA-TABLES  ====-->
      </div>
    </div>

  </div>
</div>
<modal [animation]="animation" [keyboard]="keyboard" [backdrop]="backdrop" #modalEvaluacionCurriculares  >
  <modal-header>
    <button type="button" class="close" on-click="cerrarModalEvaluacionCurricular()" aria-hidden="true">&times;</button>
    <h4 class="modal-title">{{evaluacionLicenciatura ? 'Evaluacion del ensayo' : 'Evaluaci&oacute;n curricular'}}</h4>
  </modal-header>
  <modal-body>
    <div class="row">
      <alert
        *ngFor="let alerta of erroresGuardado"
        [type]="alerta.tipo"
        dismissible="true">
        {{ alerta?.mensaje }}
      </alert>
      <alert
        *ngFor="let alerta of alertas;let i = index"
        [type]="alerta.type"
        dismissible="true"
        (close)="cerrarAlerta(i)">
        {{ alerta?.msg }}
      </alert>


      <div class="col-md-12">
        <h5 class="form-heading text-muted text-semibold text-sm">ASPIRANTE</h5>
      </div>

      <div class="col-md-12">
        <div class="row">
          <div class="col-md-6 form-group-margin">
            <div class="row">
              <dl class="form-horizontal">
                <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Nombre:</dt>
                <dd class="col-md-6">{{entidadEstudiante?.datosPersonales?.getNombreCompleto()}}</dd>
              </dl>
            </div>
          </div>
          <div class="col-md-6 form-group-margin">
            <div class="row">
              <dl class="form-horizontal">
                <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Programa
                  docente:
                </dt>
                <dd class="col-md-6">{{entidadEstudiante?.promocion?.programaDocente?.descripcion}}</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-6 form-group-margin">
            <div class="row">
              <dl class="form-horizontal">
                <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">
                  Promoci&oacute;n:
                </dt>
                <dd class="col-md-6">{{entidadEstudiante?.promocion?.getClavePromocion()}}</dd>
              </dl>
            </div>
          </div>
          <div class="col-md-6 form-group-margin">
            <div class="row">
              <dl class="form-horizontal">
                <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">
                  {{evaluacionLicenciatura ? 'Nombre del ensayo' : 'Nombre del Anteproyecto'}}:
                </dt>
                <dd class="col-md-6">{{entidadEstudiante?.complementaria?.nombreAnteproyecto}}</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-12" *ngIf="!evaluacionLicenciatura">
        <div class="row">
          <div class="col-md-1 form-group-margin">
            <div class="row">
            </div>
          </div>
          <div class="col-md-10 form-group-margin">
            <div class="row">
              <div class="table-default table-responsive">
                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered dataTable no-footer " id="jq-datatables-example2" aria-describedby="jq-datatables-example_info">
                  <thead>
                    <tr role="row">
                      <th align="center" width="20px">No.</th>
                      <th style="text-align:center;">LGAC de Interes</th>
                    </tr>
                  </thead>
                  <tbody *ngIf="registrosAspiranteLgac.length === 0">
                  <tr class="gradeA odd">
                    <th class="text-center" colspan="3">
                      No hay Registros
                    </th>
                  </tr>
                  </tbody>
                  <tbody *ngIf = "registrosAspiranteLgac.length !== 0">
                    <tr *ngFor="let registro of registrosAspiranteLgac; let i = index" class="gradeA odd">
                      <td>{{i+1}}</td>
                      <td class="center">{{registro?.lgac?.denominacion}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="col-md-12">
        <h5 class="form-heading text-muted text-semibold text-sm">Evaluación</h5>
      </div>

      <div class="col-md-12" *ngIf="hasRol('COORDINADOR')">

        <div class="table-default">
          <div role="grid" class="dataTables_wrapper form-inline">
            <div class="table-header clearfix">
              <div class="table-caption">Profesores evaluadores</div>
            </div>

            <div class="table-responsive table-scroll-modal">
              <table cellpadding="0" cellspacing="0" border="0"
                     class="table table-striped table-bordered dataTable no-footer"
                     id="jq-datatables-example" aria-describedby="jq-datatables-example_info">
                <thead>
                <tr role="row">
                  <th>Profesor</th>
                  <th>Comentarios</th>
                  <th *ngIf="evaluacionLicenciatura">Calificación del ensayo</th>
                  <th *ngIf="!evaluacionLicenciatura">Decisión</th>
                </tr>
                </thead>
                <tbody *ngIf="listaEvaluacionCurricular.length === 0">
                <tr class="gradeA odd">
                  <th class="text-center" colspan="3">
                    No hay Registros
                  </th>
                </tr>
                </tbody>
                <tbody *ngIf="listaEvaluacionCurricular.length !== 0">
                <tr *ngFor="let listaProfesores of listaEvaluacionCurricular"
                    class="gradeA odd"
                    [ngClass]="{
							        		'seleccionado': rowSeleccionadoEvaCurri(listaProfesores)
							        }"
                    (click)="rowSeleccionEvaCurri(listaProfesores)">
                  <td class="center">{{listaProfesores?.profesor?.getNombreCompleto()}}</td>
                  <td class="center">
                    {{listaProfesores?.consideraciones}}
                  </td>
                  <td *ngIf="evaluacionLicenciatura" class="text-center">{{listaProfesores?.calificacionEnsayo}}</td>
                  <td *ngIf="!evaluacionLicenciatura" class="center">{{listaProfesores?.dictamen ?
                    'Aceptado' : 'No aceptado'}}
                  </td>
                </tr>
                <tr role="row" *ngIf="evaluacionLicenciatura">
                  <th></th>
                  <th></th>
                  <th>Promedio: {{promedioSugerido}}</th>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>

      <form  [formGroup]="formularioEvaCurri">
        <div class="col-md-12 form-group-margin" *ngIf="!evaluacionLicenciatura">
          <div class="row"   [ngClass]="{'has-error': getControlErrorsEvaCurri('dictamen')}">
            <dl class="form-horizontal">
              <dt class="col-md-3 text-right-lg text-right-md text-left-sm text-left-xs"> {{hasRol('COORDINADOR') ? 'Decisión NAB' : 'Recomendaci&oacute;n'}}:*</dt>
              <dd class="col-md-9">
                <input id="dictamen" name="dictamen" type="radio" (change)="cambioRadio(true)" formControlName="dictamen" value="true"> Aceptado &nbsp;&nbsp;
                <input id="dictamenNO" name="dictamen" type="radio" (change)="cambioRadio(false)" formControlName="dictamen" value="false"> No Aceptado
                <span id="helpBlock3" class="help-block" *ngIf="(getControlErrorsEvaCurri('dictamen'))">
                               {{errorMessage(getControl('dictamen'))}}
                            </span>
              </dd>
            </dl>
          </div>
        </div>
        <div class="col-md-12 form-group-margin" *ngIf="evaluacionLicenciatura">
          <div [ngClass]="{'has-error': getControlErrorsEvaCurri('calificacionEnsayo') }">
            <div class="row">
              <dl class="form-horizontal">
                <dt class="col-md-3 text-right-lg text-right-md text-left-sm text-left-xs">Calificación ensayo: *</dt>
                <dd class="col-md-9">
                  <input
                    type="text"
                    min="0"
                    class="form-control"
                    id="calificacionEnsayo"
                    #calificacionEnsayo formControlName="calificacionEnsayo"
                    ngControl="calificacionEnsayo"
                    maxlength="6"
                  >
                  <span id="helpBlock3" class="help-block" *ngIf="(getControlErrorsEvaCurri('calificacionEnsayo'))">
                                    {{errorMessage(getControl('calificacionEnsayo'))}}
                                </span>
                </dd>
              </dl>
            </div>
          </div>
        </div>

        <div class="col-md-12 form-group-margin" [ngClass]="{'has-error': getControlErrorsEvaCurri('consideraciones')}">
          <div class="row">
            <dt class="col-md-3 text-right-lg text-right-md text-left-sm text-left-xs">Consideraciones:</dt>
            <dd class="col-md-9">
                                    <textarea class="form-control" id="consideraciones" name="consideraciones"
                                              maxlength="500" #consideraciones formControlName="consideraciones"
                                              ngControl="consideraciones" placeholder="Valoración general del anteproyecto&#10;Pertinencia académica:&#10;Viabilidad:&#10;Sustento teórico-metodológico:"
                                              rows="7"></textarea>
              <span id="helpBlock3" class="help-block"
                    *ngIf="(getControlErrorsEvaCurri('consideraciones'))">
                                        {{errorMessage(getControl('consideraciones'))}}
                                    </span>
              (M&aacute;ximo 500 caracteres)
            </dd>
          </div>
        </div>
      </form>

    </div>
  </modal-body>
  <modal-footer>
    <div class="text-right">
      <button class="btn btn-default" type="button" data-dismiss="modal" on-click="cerrarModalEvaluacionCurricular()"><span
        class="glyphicon glyphicon-remove"></span> Cancelar
      </button>
      <button class="btn btn-success" (click)="enviarFormulario()"><span
        class="fa fa-floppy-o"></span> Guardar
      </button>
    </div>
  </modal-footer>
</modal>
<modal [animation]="animation" [keyboard]="keyboard" [backdrop]="backdrop" #modalEvaluaciones  >
  <modal-header>
    <button type="button" class="close" on-click="cerrarModalEvaluacion()" aria-hidden="true">&times;</button>
    <h4 class="modal-title">Evaluaci&oacute;n</h4>
  </modal-header>
  <modal-body>
    <div class="row">
      <alert
        *ngFor="let alerta of erroresGuardadoEval"
        [type]="alerta.tipo"
        dismissible="true">
        {{ alerta?.mensaje }}
      </alert>
      <alert
        *ngFor="let alerta of alertasEval;let i = index"
        [type]="alerta.type"
        dismissible="true"
        (close)="cerrarAlertaEval(i)">
        {{ alerta?.msg }}
      </alert>
      <div class="col-md-12">
        <div class="row">

          <div class="col-md-12">
            <h5 class="form-heading text-muted text-semibold text-sm">ASPIRANTE</h5>
          </div>

          <div class="col-md-12">
            <div class="row">
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Nombre:
                    </dt>
                    <dd class="col-md-6">{{entidadEstudiante?.datosPersonales?.getNombreCompleto()}}
                    </dd>
                  </dl>
                </div>
              </div>
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Programa
                      docente:
                    </dt>
                    <dd class="col-md-6">
                      {{entidadEstudiante?.promocion?.programaDocente?.descripcion}}
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Promoci&oacute;n:</dt>
                    <dd class="col-md-6">{{entidadEstudiante?.promocion?.getClavePromocion()}}</dd>
                  </dl>
                </div>
              </div>
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">
                      {{evaluacionLicenciatura ? 'Nombre del ensayo' : 'Nombre del Anteproyecto'}}:
                    </dt>
                    <dd class="col-md-6">{{entidadEstudiante?.complementaria?.nombreAnteproyecto}}</dd>
                  </dl>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12" *ngIf="!evaluacionLicenciatura">
            <div class="row">
              <div class="col-md-1 form-group-margin">
                <div class="row">
                </div>
              </div>
              <div class="col-md-10 form-group-margin">
                <div class="row">
                  <div class="table-default table-responsive">
                    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered dataTable no-footer " id="jq-datatables-example2" aria-describedby="jq-datatables-example_info">
                      <thead>
                        <tr role="row">
                          <th align="center" width="20px">No.</th>
                          <th style="text-align:center;">LGAC de Interes</th>
                        </tr>
                      </thead>
                      <tbody *ngIf="registrosAspiranteLgac.length === 0">
                      <tr class="gradeA odd">
                        <th class="text-center" colspan="3">
                          No hay Registros
                        </th>
                      </tr>
                      </tbody>
                      <tbody *ngIf = "registrosAspiranteLgac.length !== 0">
                        <tr *ngFor="let registro of registrosAspiranteLgac; let i = index" class="gradeA odd">
                          <td>{{i+1}}</td>
                          <td class="center">{{registro?.lgac?.denominacion}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <h5 class="form-heading text-muted text-semibold text-sm">Evaluación</h5>
          </div>

          <div class="col-md-12" *ngIf="hasRol('COORDINADOR')">

            <div class="table-default">
              <div role="grid" class="dataTables_wrapper form-inline">
                <div class="table-header clearfix">
                  <div class="table-caption">Profesores evaluadores</div>
                </div>

                <div class="table-responsive table-scroll-modal">
                  <table cellpadding="0" cellspacing="0" border="0"
                         class="table table-striped table-bordered dataTable no-footer"
                         id="jq-datatables-example" aria-describedby="jq-datatables-example_info">
                    <thead>
                    <tr role="row">
                      <th>Profesor</th>
                      <th>Comentarios</th>
                      <th>Decisión</th>
                    </tr>
                    </thead>
                    <tbody *ngIf="listaEvaluacionAspiranteEval.length === 0">
                    <tr class="gradeA odd">
                      <th class="text-center" colspan="3">
                        No hay Registros
                      </th>
                    </tr>
                    </tbody>
                    <tbody *ngIf="listaEvaluacionAspiranteEval.length !== 0">
                    <tr *ngFor="let listaProfesores of listaEvaluacionAspiranteEval"
                        class="gradeA odd">
                      <td class="center">{{listaProfesores?.profesor?.getNombreCompleto()}}</td>
                      <td class="center">
                        {{listaProfesores?.consideraciones}}
                      </td>
                      <td class="center">{{listaProfesores?.dictamen ?
                        'Aceptado' : 'No aceptado'}}
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

          </div>

          <form [formGroup]="formularioEval">

            <div class="col-md-12" *ngIf="!evaluacionLicenciatura">
              <div class="row"
                   [ngClass]="{'has-error': getControlErrorsEval('dictamen')}">
                <label class="col-md-3 control-label text-right-lg text-right-md text-left-sm text-left-xs">
                  {{hasRol('COORDINADOR') ? 'Decisión NAB' : 'Recomendaci&oacute;n'}}:*</label>
                <div class="col-sm-9">
                  <label><input id="dictamen" name="dictamen" type="radio" formControlName="dictamen" value="true" (change)="cambioRadioEval(true)">
                    Aceptado</label>&nbsp;&nbsp;
                  <label><input id="dictamenNO" name="dictamen" type="radio" formControlName="dictamen" value="false" (change)="cambioRadioEval(false)">
                    No
                    Aceptado</label>
                  <span id="helpBlock3" class="help-block" *ngIf="(getControlErrorsEval('dictamen'))">
                           {{errorMessage(getControlEval('dictamen'))}}
                        </span>
                </div>
              </div>
            </div>

            <div class="col-md-12">
              <div [ngClass]="{'has-error': getControlErrorsEval('consideraciones')}">
                <div class=" col-md-12 padding-xs-vr">
                  <div class="row">
                    <label for="consideraciones"
                           class="col-md-3 control-label text-right-lg text-right-md text-left-sm text-left-xs">Consideraciones:</label>
                    <div class="col-md-9">
                                    <textarea class="form-control"
                                              formControlName="consideraciones"
                                              id="consideraciones"
                                              name="consideraciones"
                                              maxlength="500"
                                              ngControl="consideraciones"
                                              placeholder="Consideraciones"
                                              rows="7"></textarea>
                      <span id="helpBlock3" class="help-block"
                            *ngIf="(getControlErrorsEval('consideraciones'))">
                                        {{errorMessage(getControlEval('consideraciones'))}}
                                    </span>
                      (M&aacute;ximo 500 caracteres)
                    </div>
                  </div>
                </div>
              </div>

            </div>

            <div class="col-md-12 padding-xs-vr" *ngIf="hasRol('COORDINADOR') && !evaluacionLicenciatura">
              <div class="row" [ngClass]="{
                          'has-error': getControlErrorsEval('prioridad') }">
                <label class="col-md-3 control-label text-right-lg text-right-md text-left-sm text-left-xs">Prioridad:</label>

                <div class="col-md-3">
                  <input
                    formControlName="prioridad"
                    type="number"
                    min="0"
                    class="form-control"
                    id="prioridad"
                    ngControl="prioridad"
                    maxlength="3"
                  >
                  <span id="helpBlock3" class="help-block" *ngIf="(getControlErrorsEval('prioridad'))">
                                {{errorMessage(getControlEval('prioridad'))}}
                            </span>
                </div>
              </div>
            </div>
          </form>

        </div>
      </div>

    </div>
  </modal-body>
  <modal-footer>
    <div class="text-right">
      <button class="btn btn-default" type="button" data-dismiss="modal" on-click="cerrarModalEvaluacion()"><i
        class="fa fa-times"></i>&nbsp;&nbsp;Cancelar
      </button>
      <button class="btn btn-success" type="button" (click)="enviarFormularioEval()"><i class="fa fa-floppy-o"></i>&nbsp;&nbsp;Guardar
      </button>
    </div>
  </modal-footer>
</modal>
<modal [animation]="animation" [keyboard]="keyboard" [backdrop]="backdrop" #modalEntrevistas  >
  <modal-header>
    <button type="button" class="close" on-click="cerrarModal2()" aria-hidden="true">&times;</button>
    <h4 class="modal-title">{{evaluacionFinal ? 'CENEVAL' : 'Entrevista'}}</h4>
  </modal-header>
  <modal-body>
    <div class="row">
      <alert
        *ngFor="let alerta of erroresGuardado4"
        [type]="alerta.tipo"
        dismissible="true">
        {{ alerta?.mensaje }}
      </alert>
      <alert
        *ngFor="let alerta of alertas4;let i = index"
        [type]="alerta.type"
        dismissible="true"
        (close)="cerrarAlerta4(i)">
        {{ alerta?.msg }}
      </alert>
      <div class="col-md-12">
        <div class="row">

          <div class="col-md-12">
            <h5 class="form-heading text-muted text-semibold text-sm">ASPIRANTE</h5>
          </div>

          <div class="col-md-12">
            <div class="row">
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Nombre:
                    </dt>
                    <dd class="col-md-6">{{entidadEstudiante4?.datosPersonales?.getNombreCompleto()}}
                    </dd>
                  </dl>
                </div>
              </div>
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Programa
                      docente:
                    </dt>
                    <dd class="col-md-6">
                      {{entidadEstudiante4?.promocion?.programaDocente?.descripcion}}
                    </dd>
                  </dl>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Promoci&oacute;n:</dt>
                    <dd class="col-md-6">{{entidadEstudiante4?.promocion?.getClavePromocion()}}</dd>
                  </dl>
                </div>
              </div>
              <div class="col-md-6 form-group-margin">
                <div class="row">
                  <dl class="form-horizontal">
                    <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">
                      Nombre del ensayo:
                    </dt>
                    <dd class="col-md-6">{{entidadEstudiante?.complementaria?.nombreAnteproyecto}}</dd>
                  </dl>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12" *ngIf="hasRol('COORDINADOR') && !evaluacionFinal4">
            <h5 class="form-heading text-muted text-semibold text-sm">Evaluación</h5>
          </div>

          <div class="col-md-12" *ngIf="hasRol('COORDINADOR') && !evaluacionFinal4">

            <div class="table-default">
              <div role="grid" class="dataTables_wrapper form-inline">
                <div class="table-header clearfix">
                  <div class="table-caption">Profesores evaluadores</div>
                </div>

                <div class="table-responsive table-scroll-modal">
                  <table cellpadding="0" cellspacing="0" border="0"
                         class="table table-striped table-bordered dataTable no-footer"
                         id="jq-datatables-example" aria-describedby="jq-datatables-example_info">
                    <thead>
                    <tr role="row">
                      <th>Profesor</th>
                      <th>Comentarios</th>
                      <th>Calificación entrevista</th>
                    </tr>
                    </thead>
                    <tbody *ngIf="listaEvaluacionAspirante.length === 0">
                    <tr class="gradeA odd">
                      <th class="text-center" colspan="3">
                        No hay Registros
                      </th>
                    </tr>
                    </tbody>
                    <tbody *ngIf="listaEvaluacionAspirante.length !== 0">
                    <tr *ngFor="let listaProfesores of listaEvaluacionAspirante"
                        class="gradeA odd">
                      <td class="center">{{listaProfesores?.profesor?.getNombreCompleto()}}</td>
                      <td class="center">
                        {{listaProfesores?.consideraciones}}
                      </td>
                      <td class="text-center">
                        {{listaProfesores?.calificacionEntrevista}}
                      </td>
                    </tr>
                    <tr>
                      <th></th>
                      <th></th>
                      <th>Promedio: {{promedioSugeridoEntrevista}}
                      </th>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

          </div>

          <form [formGroup]="formulario4">

            <div class="col-md-12" *ngIf="evaluacionLicenciatura4 && !evaluacionFinal4">
              <div [ngClass]="{
                          'has-error': getControlErrors4('calificacionEntrevista') }">
                <div class="col-md-3 text-right">Calificación entrevista: *</div>
                <div class="col-md-3">
                  <input
                    type="number"
                    min="0"
                    class="form-control"
                    id="calificacionEntrevista"
                    ngControl="calificacionEntrevista"
                    maxlength="3"
                  >
                  <span id="helpBlock3" class="help-block"
                        *ngIf="(getControlErrors4('calificacionEntrevista'))">
                                {{errorMessage4(getControl4('calificacionEntrevista'))}}
                            </span>
                </div>
              </div>
            </div>
            <div class="col-md-12" *ngIf="evaluacionLicenciatura4 && hasRol('COORDINADOR') && evaluacionFinal4">
              <div [ngClass]="{
                          'has-error': getControlErrors4('calificacionCeneval') }">
                <div class="col-md-3 text-right">CENEVAL: *</div>
                <div class="col-md-3">
                  <input
                    type="number"
                    min="0"
                    class="form-control"
                    id="calificacionCeneval"
                    ngControl="calificacionCeneval"
                    maxlength="3"
                  >
                  <span id="helpBlock3" class="help-block" *ngIf="(getControlErrors4('calificacionCeneval'))">
                                {{errorMessage4(getControl4('calificacionCeneval'))}}
                            </span>
                </div>
              </div>
            </div>

            <div class="col-md-12" *ngIf="!evaluacionFinal4">
              <div [ngClass]="{'has-error': getControlErrors4('consideraciones')}">
                <div class=" col-md-12 padding-xs-vr">
                  <div class="row">
                    <label for="consideraciones"
                           class="col-md-3 control-label text-right-lg text-right-md text-left-sm text-left-xs">Consideraciones:</label>
                    <div class="col-md-9">
                                    <textarea class="form-control"
                                              id="consideraciones"
                                              name="consideraciones"
                                              maxlength="500"
                                              ngControl="consideraciones"
                                              placeholder="Consideraciones"
                                              rows="7"></textarea>
                      <span id="helpBlock3" class="help-block"
                            *ngIf="(getControlErrors4('consideraciones'))">
                                        {{errorMessage4(getControl4('consideraciones'))}}
                                    </span>
                      (M&aacute;ximo 500 caracteres)
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </form>

        </div>
      </div>

    </div>
  </modal-body>
  <modal-footer>
    <div class="text-right">
      <button class="btn btn-default" type="button" data-dismiss="modal" on-click="cerrarModal2()"><i
        class="fa fa-times"></i>&nbsp;&nbsp;Cancelar
      </button>
      <button class="btn btn-success" type="button" (click)="enviarFormulario4()" *ngIf="usuarioCoordinador"><i class="fa fa-floppy-o"></i>&nbsp;&nbsp;Guardar
      </button>
    </div>
  </modal-footer>
</modal>

<!-- modal evaluación-->
<modal [animation]="animation" [keyboard]="keyboard" [backdrop]="backdrop" #modalDetalleEvaluacion>
  <modal-header>
<!--    <button type="button" class="close" (click)="cerrarModal3()"
            aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button> -->
    <h4 class="modal-title">Detalle de Evaluaci&oacute;n de Aspirantes</h4>
  </modal-header>
  <modal-body>
    <div class="row">
      <div class="col-md-12">

        <div class="col-md-12">
          <div class="row">
            <h5 class="form-heading text-muted text-semibold text-sm">ASPIRANTE</h5>
          </div>
        </div>

        <div class="col-md-12">
          <div class="row">
            <div class="col-md-6 form-group-margin">
              <div class="row">
                <dl class="form-horizontal">
                  <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Nombre: </dt>
                  <dd class="col-md-6">{{registroSeleccionado?.datosPersonales?.getNombreCompleto()}}</dd>
                </dl>
              </div>
            </div>
            <div class="col-md-6 form-group-margin">
              <div class="row">
                <dl class="form-horizontal">
                  <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Programa docente: </dt>
                  <dd class="col-md-6">{{registroSeleccionado?.promocion?.programaDocente?.descripcion}}</dd>
                </dl>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-6 form-group-margin">
              <div class="row">
                <dl class="form-horizontal">
                  <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Promoci&oacute;n: </dt>
                  <dd class="col-md-6">{{registroSeleccionado?.promocion?.getClavePromocion()}}</dd>
                </dl>
              </div>
            </div>
            <div class="col-md-6 form-group-margin">
            <div class="row">
              <dl class="form-horizontal">
                <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">
                  {{evaluacionLicenciatura ? 'Nombre del ensayo' : 'Nombre del Anteproyecto'}}:
                </dt>
                <dd class="col-md-6">{{registroSeleccionado?.complementaria?.nombreAnteproyecto ? registroSeleccionado?.complementaria?.nombreAnteproyecto : '---'}}</dd>
              </dl>
            </div>
          </div>
          </div>
        </div>

        <div class="col-md-12" *ngIf="!evaluacionLicenciatura">
            <div class="row">
              <div class="col-md-1 form-group-margin">
                <div class="row">
                </div>
              </div>
              <div class="col-md-10 form-group-margin">
                <div class="row">
                  <div class="table-default table-responsive">
                    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered dataTable no-footer " id="jq-datatables-example2" aria-describedby="jq-datatables-example_info">
                      <thead>
                        <tr role="row">
                          <th align="center" width="20px">No.</th>
                          <th style="text-align:center;">LGAC de Inter&eacute;s</th>
                        </tr>
                      </thead>
                      <tbody *ngIf="registrosAspiranteLgac.length === 0">
                      <tr class="gradeA odd">
                        <th class="text-center" colspan="3">
                          No hay Registros
                        </th>
                      </tr>
                      </tbody>
                      <tbody *ngIf = "registrosAspiranteLgac.length !== 0">
                        <tr *ngFor="let registro of registrosAspiranteLgac; let i = index" class="gradeA odd">
                          <td>{{i+1}}</td>
                          <td class="center">{{registro?.lgac?.denominacion}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

    <tabset>
      <tab heading="{{evaluacionLicenciatura ? 'Evaluacion del ensayo' : 'Evaluaci&oacute;n curricular'}}">

        <div class="col-md-12">
          <div class="row">
            <h5 class="form-heading text-muted text-semibold text-sm">{{evaluacionLicenciatura ? 'EVALUACI&Oacute;N ENSAYO' : 'EVALUACI&Oacute;N CURRICULAR'}}</h5>
          </div>
        </div>

        <div class="col-md-12">
          <div class="row">

            <div role="grid" class="dataTables_wrapper form-inline">
              <div class="table-header clearfix">
                <div class="table-caption">Profesores evaluadores</div>
              </div>
              <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered dataTable no-footer table-responsive">
                <thead>
                <tr role="row">
                  <th>Evaluador</th>
                  <th>Comentarios</th>
                  <th *ngIf="!evaluacionLicenciatura">Desici&oacute;n</th>
                  <th *ngIf="evaluacionLicenciatura">Calificación</th>
                </tr>
                </thead>

                <tbody *ngIf="registrosEvaluacionCurricular.length === 0">
                <tr class="gradeA odd">
                  <th class="text-center" colspan="8">
                    No hay Registros
                  </th>
                </tr>
                </tbody>

                <tbody *ngIf="registrosEvaluacionCurricular.length !== 0">
                <tr *ngFor="let registrosEvaluacion of registrosEvaluacionCurricular"
                    class="gradeA odd">
                  <td class="center">{{nombreProfesor(registrosEvaluacion)}}</td>
                  <td class="center">
                    {{registrosEvaluacion?.consideraciones ? registrosEvaluacion?.consideraciones : '---'}}
                  </td>
                  <td class="center" *ngIf="!evaluacionLicenciatura">{{registrosEvaluacion?.dictamen ?
                    'Aceptado' : 'No aceptado'}}
                  </td>
                  <td class="center" *ngIf="evaluacionLicenciatura">{{registrosEvaluacion?.calificacionEnsayo ?
                    registrosEvaluacion?.calificacionEnsayo : '---'}}
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </tab>
      <tab heading="{{evaluacionLicenciatura ? 'Entrevista' : 'Evaluaci&oacute;n'}}">

       <div class="col-md-12">
          <div class="row">
            <h5 class="form-heading text-muted text-semibold text-sm">{{evaluacionLicenciatura ? 'ENTREVISTA' : 'EVALUACI&Oacute;N'}}</h5>

          </div>
        </div>

      <div class="col-md-12">
                  <div class="row">

                    <div role="grid" class="dataTables_wrapper form-inline">
                      <div class="table-header clearfix">
                        <div class="table-caption">Profesores evaluadores</div>
                      </div>
                           <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered dataTable no-footer table-responsive">
                              <thead>
                                <tr role="row">
                                    <th>Evaluador</th>
                                    <th>Comentarios</th>
                                    <th *ngIf="!evaluacionLicenciatura">Desici&oacute;n</th>
                                    <th *ngIf="evaluacionLicenciatura">Calificación</th>
                                </tr>
                              </thead>

                              <tbody *ngIf="registrosEvaluacionAspirante.length === 0">
                                <tr class="gradeA odd">
                                   <th class="text-center" colspan="8">
                                   No hay Registros
                                   </th>
                                </tr>
                              </tbody>

                                 <tbody *ngIf="registrosEvaluacionAspirante.length !== 0">
                                  <tr *ngFor="let registrosEvaluacion of registrosEvaluacionAspirante"
                                   class="gradeA odd">
                                  <td class="center">{{nombreProfesor(registrosEvaluacion)}}</td>
                                  <td class="center">
                                  {{registrosEvaluacion?.consideraciones ? registrosEvaluacion?.consideraciones : '---'}}
                                  </td>
                                 <td class="center"  *ngIf="!evaluacionLicenciatura">{{registrosEvaluacion?.dictamen ?
                                 'Aceptado' : 'No aceptado'}}
                                 </td>
                                 <td class="center" *ngIf="evaluacionLicenciatura">{{registrosEvaluacion?.calificacionEntrevista ?
                                   registrosEvaluacion?.calificacionEntrevista : '---'}}
                                  </td>
                                 </tr>
                        </tbody>
                          </table>
                        </div>
                    </div>
                  </div>


      </tab>
      <tab *ngIf="evaluacionLicenciatura" heading="CENEVAL">
        <div class="col-md-12">
          <div class="row">
            <h5 class="form-heading text-muted text-semibold text-sm">CENEVAL Y FINAL</h5>

          </div>
        </div>

        <div class="col-md-12">
          <div class="row">
            <div class="col-md-6 form-group-margin">
              <div class="row">
                <dl class="form-horizontal">
                  <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Puntuación CENEVAL: </dt>
                  <dd class="col-md-6">{{puntuacionDetalleCeneval ? puntuacionDetalleCeneval : '---'}}</dd>
                </dl>
              </div>
            </div>
            <div class="col-md-6 form-group-margin">
              <div class="row">
                <dl class="form-horizontal">
                  <dt class="col-md-6 text-right-lg text-right-md text-left-sm text-left-xs">Calificacion Final: </dt>
                  <dd class="col-md-6">{{calificacionFinalDetalle ? calificacionFinalDetalle : '---'}} %</dd>
                </dl>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12">
          <div class="row">
            <div class="col-md-12 form-group-margin">
              <div class="row">
                <dl class="form-horizontal">
                  <dt class="col-md-12 text-left-lg text-left-md text-left-sm text-left-xs">Fases y ponderación del proceso</dt>
                  <dt class="col-md-12 text-left-lg text-left-md text-left-sm text-left-xs">
                    1.
                    Examen  Ceneval,  EXANI  II  (35%).  Evaluación  académica  en  torno  a  las  habilidades  verbales,
                    numéricas y los conocimientos generales de los aspirantes.
                     </dt>
                  <dt class="col-md-12 text-left-lg text-left-md text-left-sm text-left-xs">
                    2.
                    Ensayo (35%). Evalúa iniciativa, creatividad, argumentación y redacción; se dará un listado de
                    temas actuales de las Relaciones Internacionales a escoger y se desarrollarán dos de ellos.
                   </dt>
                  <dt class="col-md-12 text-left-lg text-left-md text-left-sm text-left-xs">
                    3.
                    Entrevista (30%). Valora los intereses y expectativas que el candidato tiene respecto al progra-
                    ma de estudios que desea cursar.  </dt>
                </dl>
              </div>
            </div>
          </div>
        </div>

      </tab>
    </tabset>

      </div>
    </div>
  </modal-body>
  <modal-footer>
    <div class="text-right">
      <button type="button" class="btn btn-default" (click)="cerrarModal3()"><i class="fa fa-times"></i>&nbsp;&nbsp;Cancelar</button>
    </div>
  </modal-footer>
</modal>
